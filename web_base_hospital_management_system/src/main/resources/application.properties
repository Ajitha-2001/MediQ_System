# ===================================================================
#                      Application Settings
# ===================================================================
spring.application.name=hospitalmanagement
server.port=8088

# ===================================================================
#                         Database (MySQL)
# ===================================================================
spring.datasource.url=jdbc:mysql://localhost:3306/hospital?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Colombo
spring.datasource.username=root
spring.datasource.password=27846
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Hikari Connection Pool settings
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-timeout=30000

# ===================================================================
#                       JPA / Hibernate
# ===================================================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Colombo
spring.jpa.open-in-view=false

# ===================================================================
#                   Web, Thymeleaf & Resources
# ===================================================================
# Disable Thymeleaf caching for development
spring.thymeleaf.cache=false
spring.web.resources.cache.period=0

spring.mvc.format.date=yyyy-MM-dd
spring.mvc.hiddenmethod.filter.enabled=true

# ===================================================================
#                        File Uploads
# ===================================================================
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB
file.upload-dir=src/main/resources/static/uploads

# ===================================================================
#                         Mail (Gmail SMTP)
# ===================================================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=info.famousfb@gmail.com
spring.mail.password=zqas mekz wlji wgvl
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.default-encoding=UTF-8

app.mail.from=info.famousfb@gmail.com
app.mail.from-name=HMS Admin

# ===================================================================
#                     Application Security
# ===================================================================
app.jwt.secret=${APP_JWT_SECRET:mySecretKeyForDevelopmentOnly}
app.jwt.expiration=86400000 # 24 hours

# ===================================================================
#                            Logging
# ===================================================================
# Reduce console noise but keep useful details
logging.level.root=INFO
logging.level.org.springframework=INFO
logging.level.org.hibernate.SQL=ERROR
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=ERROR
logging.level.hms=DEBUG

# Silence RMI / JMX spammy logs
logging.level.sun.rmi.transport.tcp=ERROR
logging.level.javax.management.remote.rmi=ERROR
logging.level.sun.rmi.loader=ERROR

# Optional: Show clear startup banner and startup time
spring.main.banner-mode=console

# Optional: Disable overly verbose debug mode globally
debug=false

# ===================================================================
#                 Bean Definition Safety (to avoid duplicates)
# ===================================================================
spring.main.allow-bean-definition-overriding=false
