<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8"/>
    <style>
        body{ font-family:Helvetica,Arial,sans-serif; color:#333; padding:20px; }
        h1{ font-size:22px; text-align:center; color:#004aad; border-bottom:2px solid #004aad; padding-bottom:6px; }
        h2{ text-align:center; color:#007bff; margin:8px 0 20px; }
        h3{ border-bottom:1px solid #ccc; margin-top:22px; padding-bottom:4px; }
        table{ width:100%; border-collapse:collapse; margin-top:10px; }
        th,td{ border:1px solid #ddd; padding:8px; text-align:center; }
        th{ background:#f8f9fa; font-weight:600; }
        img{ max-width:100%; height:auto; margin-top:22px; }
        footer{ text-align:center; color:#888; font-size:12px; margin-top:30px; }
    </style>
</head>
<body>
<h1 th:text="${reportData.title}">Report Title</h1>
<h2 th:text="${reportData.period}">Report Period</h2>

<h3>Summary</h3>
<table>
    <thead><tr><th th:each="stat : ${reportData.summaryStats}" th:text="${stat.key}">Label</th></tr></thead>
    <tbody><tr><td th:each="stat : ${reportData.summaryStats}" th:text="${stat.value}">0</td></tr></tbody>
</table>

<h3>Calculated Metrics</h3>
<table>
    <thead><tr><th th:each="stat : ${reportData.calculatedStats}" th:text="${stat.key}">Metric</th></tr></thead>
    <tbody><tr><td th:each="stat : ${reportData.calculatedStats}" th:text="${#numbers.formatDecimal(stat.value,1,2)}">0</td></tr></tbody>
</table>

<div th:if="${chartBase64}">
    <img th:src="'data:image/png;base64,' + ${chartBase64}" alt="Report Chart"/>
</div>

<footer>Generated by HMS Analytics | Confidential</footer>
</body>
</html>
